{"ast":null,"code":"var _jsxFileName = \"/Users/mattgaudie/Documents/Projects/wizctf/client/src/pages/AdminPage.js\",\n  _s = $RefreshSig$();\n// client/src/pages/AdminPage.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext.js';\nimport * as adminService from '../services/admin.service.js';\nimport * as userService from '../services/user.service.js';\nimport MainLayout from '../components/layout/MainLayout.js';\nimport QuestionsManager from '../components/admin/QuestionsManager.js';\nimport QuestionSetsManager from '../components/admin/QuestionSetsManager.js';\nimport './AdminPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPage = () => {\n  _s();\n  const {\n    isAuthenticated,\n    user,\n    loading\n  } = useAuth();\n  const navigate = useNavigate();\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [alert, setAlert] = useState({\n    msg: '',\n    type: ''\n  });\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    organization: '',\n    jobTitle: '',\n    role: 'user'\n  });\n  const [isEdit, setIsEdit] = useState(false);\n  const [activeTab, setActiveTab] = useState('users');\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    organization,\n    jobTitle,\n    role\n  } = formData;\n  useEffect(() => {\n    // Redirect if not authenticated or not admin\n    if (!loading && (!isAuthenticated || user && user.role !== 'admin')) {\n      navigate('/dashboard');\n      return;\n    }\n\n    // Fetch users\n    if (isAuthenticated && user && user.role === 'admin') {\n      fetchUsers();\n    }\n  }, [isAuthenticated, loading, navigate, user]);\n  const fetchUsers = async () => {\n    try {\n      const data = await adminService.getAllUsers();\n      setUsers(data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setAlert({\n        msg: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'Error fetching users',\n        type: 'danger'\n      });\n    }\n  };\n  const onChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const resetForm = () => {\n    setFormData({\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      organization: '',\n      jobTitle: '',\n      role: 'user'\n    });\n    setIsEdit(false);\n    setSelectedUser(null);\n  };\n  const onSelectUser = user => {\n    setSelectedUser(user);\n    setFormData({\n      firstName: user.firstName || '',\n      lastName: user.lastName || '',\n      email: user.email || '',\n      password: '',\n      organization: user.organization || '',\n      jobTitle: user.jobTitle || '',\n      role: user.role || 'user'\n    });\n    setIsEdit(true);\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (isEdit && selectedUser) {\n        // Update existing user\n        const updateData = {\n          firstName,\n          lastName,\n          organization,\n          jobTitle,\n          role\n        };\n        await adminService.updateUser(selectedUser._id, updateData);\n        setAlert({\n          msg: 'User updated successfully',\n          type: 'success'\n        });\n      } else {\n        // Create new user\n        await adminService.createUser(formData);\n        setAlert({\n          msg: 'User created successfully',\n          type: 'success'\n        });\n      }\n\n      // Refresh users list\n      fetchUsers();\n      resetForm();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setAlert({\n        msg: ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.msg) || 'Error processing user',\n        type: 'danger'\n      });\n    }\n  };\n  const onDelete = async userId => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        await userService.deleteUser(userId);\n        setAlert({\n          msg: 'User deleted successfully',\n          type: 'success'\n        });\n\n        // Refresh users list\n        fetchUsers();\n        resetForm();\n      } catch (err) {\n        var _err$response3, _err$response3$data;\n        setAlert({\n          msg: ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.msg) || 'Error deleting user',\n          type: 'danger'\n        });\n      }\n    }\n  };\n  if (loading || !user) {\n    return /*#__PURE__*/_jsxDEV(MainLayout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-loading\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Only allow admin users\n  if (user.role !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(MainLayout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-unauthorized\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Unauthorized Access\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You don't have permission to view this page.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => navigate('/dashboard'),\n          children: \"Go to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Administration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), alert.msg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `alert alert-${alert.type}`,\n        children: alert.msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-tab ${activeTab === 'users' ? 'active' : ''}`,\n          onClick: () => setActiveTab('users'),\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-tab ${activeTab === 'questions' ? 'active' : ''}`,\n          onClick: () => setActiveTab('questions'),\n          children: \"Questions Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `admin-tab ${activeTab === 'questionSets' ? 'active' : ''}`,\n          onClick: () => setActiveTab('questionSets'),\n          children: \"Question Sets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), activeTab === 'users' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-section card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: isEdit ? 'Edit User' : 'Create User'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: onSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"firstName\",\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"firstName\",\n                  name: \"firstName\",\n                  value: firstName,\n                  onChange: onChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"lastName\",\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"lastName\",\n                  name: \"lastName\",\n                  value: lastName,\n                  onChange: onChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"email\",\n                  name: \"email\",\n                  value: email,\n                  onChange: onChange,\n                  required: true,\n                  disabled: isEdit\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), !isEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"password\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  id: \"password\",\n                  name: \"password\",\n                  value: password,\n                  onChange: onChange,\n                  required: !isEdit,\n                  minLength: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"form-text\",\n                  children: \"Minimum 6 characters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"organization\",\n                  children: \"Organization\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"organization\",\n                  name: \"organization\",\n                  value: organization,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"jobTitle\",\n                  children: \"Job Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"jobTitle\",\n                  name: \"jobTitle\",\n                  value: jobTitle,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"role\",\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"role\",\n                  name: \"role\",\n                  value: role,\n                  onChange: onChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"user\",\n                    children: \"User\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"admin\",\n                    children: \"Admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-form-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn\",\n                  children: isEdit ? 'Update User' : 'Create User'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this), isEdit && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-light\",\n                  onClick: resetForm,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-section card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"User Management\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-users-list\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Role\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: users.length > 0 ? users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [user.firstName, \" \", user.lastName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: user.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: user.role\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-sm\",\n                        onClick: () => onSelectUser(user),\n                        children: \"Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-sm btn-danger\",\n                        onClick: () => onDelete(user._id),\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 332,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 29\n                    }, this)]\n                  }, user._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 27\n                  }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"4\",\n                      children: \"No users found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), activeTab === 'questions' && /*#__PURE__*/_jsxDEV(QuestionsManager, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 39\n      }, this), activeTab === 'questionSets' && /*#__PURE__*/_jsxDEV(QuestionSetsManager, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPage, \"M7j0maZQF//SIqbKRz4kpwtOsWA=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AdminPage;\nexport default AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","adminService","userService","MainLayout","QuestionsManager","QuestionSetsManager","jsxDEV","_jsxDEV","AdminPage","_s","isAuthenticated","user","loading","navigate","users","setUsers","selectedUser","setSelectedUser","alert","setAlert","msg","type","formData","setFormData","firstName","lastName","email","password","organization","jobTitle","role","isEdit","setIsEdit","activeTab","setActiveTab","fetchUsers","data","getAllUsers","err","_err$response","_err$response$data","response","onChange","e","target","name","value","resetForm","onSelectUser","onSubmit","preventDefault","updateData","updateUser","_id","createUser","_err$response2","_err$response2$data","onDelete","userId","window","confirm","deleteUser","_err$response3","_err$response3$data","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","htmlFor","id","required","disabled","minLength","length","map","colSpan","_c","$RefreshReg$"],"sources":["/Users/mattgaudie/Documents/Projects/wizctf/client/src/pages/AdminPage.js"],"sourcesContent":["// client/src/pages/AdminPage.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext.js';\nimport * as adminService from '../services/admin.service.js';\nimport * as userService from '../services/user.service.js';\nimport MainLayout from '../components/layout/MainLayout.js';\nimport QuestionsManager from '../components/admin/QuestionsManager.js';\nimport QuestionSetsManager from '../components/admin/QuestionSetsManager.js';\nimport './AdminPage.css';\n\nconst AdminPage = () => {\n  const { isAuthenticated, user, loading } = useAuth();\n  const navigate = useNavigate();\n\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [alert, setAlert] = useState({\n    msg: '',\n    type: ''\n  });\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    organization: '',\n    jobTitle: '',\n    role: 'user'\n  });\n  const [isEdit, setIsEdit] = useState(false);\n  const [activeTab, setActiveTab] = useState('users');\n\n  const { firstName, lastName, email, password, organization, jobTitle, role } = formData;\n\n  useEffect(() => {\n    // Redirect if not authenticated or not admin\n    if (!loading && (!isAuthenticated || (user && user.role !== 'admin'))) {\n      navigate('/dashboard');\n      return;\n    }\n\n    // Fetch users\n    if (isAuthenticated && user && user.role === 'admin') {\n      fetchUsers();\n    }\n  }, [isAuthenticated, loading, navigate, user]);\n\n  const fetchUsers = async () => {\n    try {\n      const data = await adminService.getAllUsers();\n      setUsers(data);\n    } catch (err) {\n      setAlert({ msg: err.response?.data?.msg || 'Error fetching users', type: 'danger' });\n    }\n  };\n\n  const onChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const resetForm = () => {\n    setFormData({\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      organization: '',\n      jobTitle: '',\n      role: 'user'\n    });\n    setIsEdit(false);\n    setSelectedUser(null);\n  };\n\n  const onSelectUser = (user) => {\n    setSelectedUser(user);\n    setFormData({\n      firstName: user.firstName || '',\n      lastName: user.lastName || '',\n      email: user.email || '',\n      password: '',\n      organization: user.organization || '',\n      jobTitle: user.jobTitle || '',\n      role: user.role || 'user'\n    });\n    setIsEdit(true);\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      if (isEdit && selectedUser) {\n        // Update existing user\n        const updateData = {\n          firstName,\n          lastName,\n          organization,\n          jobTitle,\n          role\n        };\n        \n        await adminService.updateUser(selectedUser._id, updateData);\n        setAlert({ msg: 'User updated successfully', type: 'success' });\n      } else {\n        // Create new user\n        await adminService.createUser(formData);\n        setAlert({ msg: 'User created successfully', type: 'success' });\n      }\n      \n      // Refresh users list\n      fetchUsers();\n      resetForm();\n    } catch (err) {\n      setAlert({ msg: err.response?.data?.msg || 'Error processing user', type: 'danger' });\n    }\n  };\n\n  const onDelete = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        await userService.deleteUser(userId);\n        setAlert({ msg: 'User deleted successfully', type: 'success' });\n        \n        // Refresh users list\n        fetchUsers();\n        resetForm();\n      } catch (err) {\n        setAlert({ msg: err.response?.data?.msg || 'Error deleting user', type: 'danger' });\n      }\n    }\n  };\n\n  if (loading || !user) {\n    return (\n      <MainLayout>\n        <div className=\"admin-loading\">\n          <h2>Loading...</h2>\n        </div>\n      </MainLayout>\n    );\n  }\n\n  // Only allow admin users\n  if (user.role !== 'admin') {\n    return (\n      <MainLayout>\n        <div className=\"admin-unauthorized\">\n          <h2>Unauthorized Access</h2>\n          <p>You don't have permission to view this page.</p>\n          <button className=\"btn\" onClick={() => navigate('/dashboard')}>\n            Go to Dashboard\n          </button>\n        </div>\n      </MainLayout>\n    );\n  }\n\n  return (\n    <MainLayout>\n      <div className=\"admin-container\">\n        <h1>Administration</h1>\n\n        {alert.msg && (\n          <div className={`alert alert-${alert.type}`}>\n            {alert.msg}\n          </div>\n        )}\n        \n        <div className=\"admin-tabs\">\n          <button \n            className={`admin-tab ${activeTab === 'users' ? 'active' : ''}`}\n            onClick={() => setActiveTab('users')}\n          >\n            User Management\n          </button>\n          <button \n            className={`admin-tab ${activeTab === 'questions' ? 'active' : ''}`}\n            onClick={() => setActiveTab('questions')}\n          >\n            Questions Management\n          </button>\n          <button \n            className={`admin-tab ${activeTab === 'questionSets' ? 'active' : ''}`}\n            onClick={() => setActiveTab('questionSets')}\n          >\n            Question Sets\n          </button>\n        </div>\n\n        {activeTab === 'users' && (\n          <div className=\"admin-section\">\n            <div className=\"admin-grid\">\n              <div className=\"admin-section card\">\n                <h2>{isEdit ? 'Edit User' : 'Create User'}</h2>\n                <form onSubmit={onSubmit}>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"firstName\">First Name</label>\n                    <input\n                      type=\"text\"\n                      id=\"firstName\"\n                      name=\"firstName\"\n                      value={firstName}\n                      onChange={onChange}\n                      required\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"lastName\">Last Name</label>\n                    <input\n                      type=\"text\"\n                      id=\"lastName\"\n                      name=\"lastName\"\n                      value={lastName}\n                      onChange={onChange}\n                      required\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email</label>\n                    <input\n                      type=\"email\"\n                      id=\"email\"\n                      name=\"email\"\n                      value={email}\n                      onChange={onChange}\n                      required\n                      disabled={isEdit}\n                    />\n                  </div>\n\n                  {!isEdit && (\n                    <div className=\"form-group\">\n                      <label htmlFor=\"password\">Password</label>\n                      <input\n                        type=\"password\"\n                        id=\"password\"\n                        name=\"password\"\n                        value={password}\n                        onChange={onChange}\n                        required={!isEdit}\n                        minLength=\"6\"\n                      />\n                      <small className=\"form-text\">\n                        Minimum 6 characters\n                      </small>\n                    </div>\n                  )}\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"organization\">Organization</label>\n                    <input\n                      type=\"text\"\n                      id=\"organization\"\n                      name=\"organization\"\n                      value={organization}\n                      onChange={onChange}\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"jobTitle\">Job Title</label>\n                    <input\n                      type=\"text\"\n                      id=\"jobTitle\"\n                      name=\"jobTitle\"\n                      value={jobTitle}\n                      onChange={onChange}\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"role\">Role</label>\n                    <select\n                      id=\"role\"\n                      name=\"role\"\n                      value={role}\n                      onChange={onChange}\n                      required\n                    >\n                      <option value=\"user\">User</option>\n                      <option value=\"admin\">Admin</option>\n                    </select>\n                  </div>\n\n                  <div className=\"admin-form-buttons\">\n                    <button type=\"submit\" className=\"btn\">\n                      {isEdit ? 'Update User' : 'Create User'}\n                    </button>\n                    {isEdit && (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-light\"\n                        onClick={resetForm}\n                      >\n                        Cancel\n                      </button>\n                    )}\n                  </div>\n                </form>\n              </div>\n\n              <div className=\"admin-section card\">\n                <h2>User Management</h2>\n                <div className=\"admin-users-list\">\n                  <table>\n                    <thead>\n                      <tr>\n                        <th>Name</th>\n                        <th>Email</th>\n                        <th>Role</th>\n                        <th>Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {users.length > 0 ? (\n                        users.map((user) => (\n                          <tr key={user._id}>\n                            <td>{user.firstName} {user.lastName}</td>\n                            <td>{user.email}</td>\n                            <td>{user.role}</td>\n                            <td>\n                              <button\n                                className=\"btn btn-sm\"\n                                onClick={() => onSelectUser(user)}\n                              >\n                                Edit\n                              </button>\n                              <button\n                                className=\"btn btn-sm btn-danger\"\n                                onClick={() => onDelete(user._id)}\n                              >\n                                Delete\n                              </button>\n                            </td>\n                          </tr>\n                        ))\n                      ) : (\n                        <tr>\n                          <td colSpan=\"4\">No users found</td>\n                        </tr>\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {activeTab === 'questions' && <QuestionsManager />}\n        \n        {activeTab === 'questionSets' && <QuestionSetsManager />}\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default AdminPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}